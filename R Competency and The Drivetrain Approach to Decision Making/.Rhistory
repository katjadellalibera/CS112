ggplot(mothers,aes(x=potential,y=off))+ geom_point()
ggplot(mothers,aes(x=income,y=off))+ geom_point()
ggplot(mothers,aes(x=days,y=off))+ geom_point()
hist(mothers$off)
write.csv(mothers,"C:\\Users\\rbc15\\Desktop\\Minerva\\second year\\Second Semester\\CS112\\mothers.csv")
# column names
names(foo)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
# column names
names(foo)
# quick look at the data structure
head(foo)
# take note of the columns representing calendar dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
for(i in date.columns)  # this "for loop" only loops through the "date.columns" -- no other columns.
for(i in date.columns)  # this "for loop" only loops through the "date.columns" -- no other columns.
{
# identify which values are missing in the "i"th column of the foo data set
which_values_are_missing <- which(as.character(foo[, i]) == "")
# those values that are missing (blank) in the "i"th column are replaced by <NA>
# because R knows how to handle "NA" -- NA means something special in R--blanks are handled
# more unpredictably (which is bad).
foo[which_values_are_missing, i] <- NA
# last step--replace each of these columns (which is structured as a column of "factor" values)
# as a column of dates--i.e., convert them to an object of "class" = Date. They are dates, after all.
# And if you convert them to the Date class, R will know they are dates and you can manipulate
# dates in a simple, straightforward way. Otherwise, you won't be able to easily manipulate them
# arithmetically.  E.g., for simple Date operations, see lines 48-58 below...
# **By the way, if you don't understand what a "factor" is in R, you should Google it.**
foo[, i] <- as.Date(as.character(foo[, i]))
}
# The "is.na" function--for more info, Google it or type ?is.na at the R command prompt in the console.
which.have.NAs <- which(is.na(foo$Rating == TRUE)) # for which rows is the claim "is.na" a TRUE claim?
# Then, if you wanted to, e.g., remove all those rows, retaining only the rows with ratings...
new_foo <- foo[-which.have.NAs, ]
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
head(new_foo)
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate<2008-01-01)
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
library(dlpyr)
library(dplyr)
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate<2008-01-01)
head(new_foo)
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
head(new_foo)
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate<2008-01-01)
head(new_foo)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate<2008-01-01)
head(new_foo)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
head(new_foo)
time.difference <- new_foo$OriginalCompletionDate-new_foo$ApprovalDate
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate>=2008-01-01)
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
time.difference
hist(time.difference)
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-timedifference[-nas]
hist(time.difference)
time.difference
nas
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-timedifference[nas]
time.difference
timedifference[nas]
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-time.difference[-nas]
time.difference
hist(time.difference)
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-time.difference[-nas]
hist(as.numeric(time.difference))
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-time.difference[-nas]
hist(as.numeric(time.difference),
main="Histogram of the time difference between\n
original completion date and approval date",
xlab="time difference in days")
#histogram of the time differences
time.difference <- new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(time.difference == TRUE))
time.difference<-time.difference[-nas]
hist(as.numeric(time.difference),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
nas<- which(is.na(new_foo$time.difference == TRUE))
#plot the time difference over the completion date
ggplot(new_foo, aes(x=CirculationDate, y=time.difference))+
geom_point()
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate >= 2008-01-01)
#histogram of the time differences
new_foo$time.difference= new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(new_foo$time.difference == TRUE))
hist(as.numeric(new_foo$time.difference[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_foo, aes(x=CirculationDate, y=time.difference))+
geom_point()
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
foo <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(foo[, i]) == "")
foo[which_values_are_missing, i] <- NA
foo[, i] <- as.Date(as.character(foo[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(foo$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_foo <- foo[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
#histogram of the time differences
new_foo$time.difference= new_foo$OriginalCompletionDate - new_foo$ApprovalDate
nas<- which(is.na(new_foo$time.difference == TRUE))
hist(as.numeric(new_foo$time.difference[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_foo, aes(x=CirculationDate, y=time.difference))+
geom_point()
grouped_mdid<- new_mdid%>%
group_by(CirculationDate)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
#histogram of the time differences
new_mdid$time.difference= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$time.difference == TRUE))
hist(as.numeric(new_mdid$time.difference[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=time.difference))+
geom_point()
#other analysis
grouped_mdid<- new_mdid%>%
group_by(CirculationDate)
quantile()
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
#histogram of the time differences
new_mdid$original.time.difference= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$original.time.difference == TRUE))
hist(as.numeric(new_mdid$original.time.difference[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=original.time.difference))+
geom_point()
#other analysis
quantile(new_mdid$original.time.difference)
#other analysis
quantile(new_mdid$original.time.difference[-nas])
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
#histogram of the time differences
new_mdid$original.duration= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$original.duration == TRUE))
hist(as.numeric(new_mdid$original.duration[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=original.duration))+
geom_point()
#other analysis
mean(new_mdid$original.duration[-nas])
median(new_mdid$original.duration[-nas])
quantile(new_mdid$original.duration[-nas])
#actual time diefference
new_mdid$actual.duration=new_mdid$RevisedCompletionDate - new_mdid$ApprovalDate
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
#histogram of the time differences
new_mdid$original.duration= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$original.duration == TRUE))
hist(as.numeric(new_mdid$original.duration[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=original.duration))+
geom_point()
#other analysis
mean(new_mdid$original.duration[-nas])
median(new_mdid$original.duration[-nas])
quantile(new_mdid$original.duration[-nas])
#actual duration of the projects
new_mdid$actual.duration=new_mdid$RevisedCompletionDate - new_mdid$ApprovalDate
#plot of actual time differences
ggplot(new_mdid, aes(x=CirculationDate, y=original.duration))+
geom_point()
#plot of actual time differences
ggplot(new_mdid, aes(x=CirculationDate, y=actual.duration))+
geom_point()
## 2 ##
table(new_mdid$Rating)
## 2 ##
round(100*prop.table(new_mdid$Rating),digits=0)
## 2 ##
prop.table(new_mdid$Rating)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
## 1 ##
# a #
#histogram of the time differences
new_mdid$original.duration= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$original.duration == TRUE))
hist(as.numeric(new_mdid$original.duration[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=original.duration))+
geom_point()
#other analysis
mean(new_mdid$original.duration[-nas])
median(new_mdid$original.duration[-nas])
quantile(new_mdid$original.duration[-nas])
# b #
#actual duration of the projects
new_mdid$actual.duration=new_mdid$RevisedCompletionDate - new_mdid$ApprovalDate
#plot of actual time differences
ggplot(new_mdid, aes(x=CirculationDate, y=actual.duration))+
geom_point()
## 2 ##
prop.table(new_mdid$Rating)
round(100*prop.table(table(new_mdid$Rating),digits=0)
## 2 ##
#getting the percentages
round(100*prop.table(table(new_mdid$Rating)),digits=0)
library(ggplot2)
library(dplyr)
### Multilateral Development Institution Data
mdid <- read.csv("https://tinyurl.com/yb4phxx8") # read in the data
#columns representing dates
date.columns <- c(11, 12, 14, 15, 16, 17, 18, 25)
#replacing missing values with NA in date columns
for(i in date.columns)
{
which_values_are_missing <- which(as.character(mdid[, i]) == "")
mdid[which_values_are_missing, i] <- NA
mdid[, i] <- as.Date(as.character(mdid[, i]))
}
#determine which rows have no circulation date given
which.have.NAs <- which(is.na(mdid$CirculationDate == TRUE))
#filter missing values and values with dates before 2008-01-01
new_mdid <- mdid[-which.have.NAs, ]%>%
filter(CirculationDate >= "2008-01-01")
## 1 ##
# a #
#histogram of the time differences
new_mdid$original.duration= new_mdid$OriginalCompletionDate - new_mdid$ApprovalDate
nas<- which(is.na(new_mdid$original.duration == TRUE))
hist(as.numeric(new_mdid$original.duration[-nas]),
main="Histogram of the time difference between
original completion date and approval date",
xlab="time difference in days")
#plot the time difference over the completion date
ggplot(new_mdid, aes(x=CirculationDate, y=original.duration))+
geom_point()
#other analysis
mean(new_mdid$original.duration[-nas])
median(new_mdid$original.duration[-nas])
quantile(new_mdid$original.duration[-nas])
# b #
#actual duration of the projects
new_mdid$actual.duration=new_mdid$RevisedCompletionDate - new_mdid$ApprovalDate
#plot of actual time differences
ggplot(new_mdid, aes(x=CirculationDate, y=actual.duration))+
geom_point()
## 2 ##
# getting the percentages
round(100*prop.table(table(new_mdid$Rating)),digits=0)
View(new_mdid)
non_PPTA<- new_mdid%>%
filter(Type!=PPTA)
# exclude PPTA projects
non_PPTA<- new_mdid%>%
filter(Type!="PPTA")
View(grouped_mdid)
View(non_PPTA)
non_PPTA<- new_mdid%>%
filter(Type!="PPTA")
# calculate rating percentages
round(100*prop.table(table(no_PPTA$Rating)),digits=0)
View(non_PPTA)
# calculate rating percentages
round(100*prop.table(table(non_PPTA$Rating)),digits=0)
## 2 ##
# getting the rating percentages
round(100*prop.table(table(new_mdid$Rating)),digits=0)
## 3 ##
# exclude PPTA projects
non_PPTA<- new_mdid%>%
filter(Type!="PPTA")
# calculate rating percentages
round(100*prop.table(table(non_PPTA$Rating)),digits=0)
